<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><title>javascript-数组操作 - colton`s blog</title><meta name="description" content="在实际的一些项目中，有很多都是用到数组的一些操作，所以今天先把数组的一些方法和函数学习学习。Array数组对象用来在单独的变量名中存储一系列的值可以存储多个不同类型的数据定义数组1var arr = new Array()  //new 关键字定义数组赋值1234567891011121314151"><link type="text/css" rel="stylesheet" href="/css/pure.css?v=0.0.1"><link type="text/css" rel="stylesheet" href="/css/style.css?v=0.0.1"><script type="text/javascript" src="//cdn.bootcss.com/jquery/1.11.0/jquery.min.js"></script></head></html><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">javascript-数组操作</h1><a id="logo" href="/.">colton`s blog</a></div><div id="nav-menu"><div class="bitcron_nav"><div class="site_nav_wrap"><div class="site_nav"><span class="a_container"><a href="/." class="selected active current">首页</a></span><span class="a_container"><a href="/archives/">归档</a></span><span class="a_container"><a href="/about/">关于</a></span><span class="a_container"><a href="/atom.xml">订阅</a></span></div></div></div></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">javascript-数组操作</h1><div class="post-meta">2017-10-26<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" type="text/javascript"></script><span class="meta-space">  |  </span><span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span><span> 浏览</span></span></div><!--文章内容--><div class="post-content"><p>在实际的一些项目中，有很多都是用到数组的一些操作，所以今天先把数组的一些方法和函数学习学习。</p>
<h3 id="Array数组对象用来在单独的变量名中存储一系列的值"><a href="#Array数组对象用来在单独的变量名中存储一系列的值" class="headerlink" title="Array数组对象用来在单独的变量名中存储一系列的值"></a>Array数组对象用来在单独的变量名中存储一系列的值</h3><p>可以存储多个不同类型的数据</p>
<h4 id="定义数组"><a href="#定义数组" class="headerlink" title="定义数组"></a>定义数组</h4><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="type">Array</span>()  <span class="comment">//new 关键字定义数组</span></span><br></pre></td></tr></table></figure>
<h3 id="赋值"><a href="#赋值" class="headerlink" title="赋值"></a>赋值</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">第一种</span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="keyword">Array</span>();</span><br><span class="line">arr[<span class="number">0</span>]=<span class="string">"1"</span></span><br><span class="line">arr[<span class="number">1</span>]=<span class="string">'2'</span></span><br><span class="line">arr[<span class="number">2</span>]=<span class="string">'3'</span></span><br><span class="line">console.log(arr)  =&gt;   [<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'3'</span>]</span><br><span class="line"></span><br><span class="line">第二种</span><br><span class="line"><span class="keyword">var</span> <span class="keyword">array</span> = <span class="keyword">new</span> <span class="keyword">Array</span>(<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">console.log(<span class="keyword">array</span>)  =&gt;  [<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">第三种</span><br><span class="line"><span class="keyword">var</span> arr1 = <span class="keyword">new</span> <span class="keyword">Array</span>(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">console.log(arr1)  =&gt; []   length为<span class="number">10</span></span><br><span class="line"></span><br><span class="line">通常用的</span><br><span class="line"><span class="keyword">var</span> arr = [];   <span class="comment">//空数组</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];   <span class="comment">// 数据一般就写在中括号里,多个数据用逗号分割</span></span><br></pre></td></tr></table></figure>
<h3 id="数组的访问"><a href="#数组的访问" class="headerlink" title="数组的访问"></a>数组的访问</h3><p>数组元素的访问：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">console.log(arr[<span class="number">3</span>])  =&gt; <span class="number">4</span>   <span class="comment">//数组名+[index] 中括号里面放入数组的index下标 （index从0开始）</span></span><br></pre></td></tr></table></figure><br><img src="/img/array1.jpg" alt=""></p>
<h3 id="数组的遍历"><a href="#数组的遍历" class="headerlink" title="数组的遍历"></a>数组的遍历</h3><p>1.快速遍历  for in<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [1,2,3,4,5];</span><br><span class="line"><span class="keyword">var</span> <span class="keyword">sum</span> = 0;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> j <span class="keyword">in</span> arr)&#123;</span><br><span class="line">  console.<span class="built_in">log</span>(j); <span class="comment">//0,1,2,3,4</span></span><br><span class="line">  console.<span class="built_in">log</span>(arr[j]);  <span class="comment">//1,2,3,4,5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>2.for 循环遍历<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">for(var i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">  console.log(arr[i]);   <span class="comment">//1,2,3,4,5</span></span><br><span class="line">  console.log(i);        <span class="comment">//0,1,2,3,4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>3.forEach 遍历数组<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> first = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">63</span>];</span><br><span class="line">first.forEach(<span class="function"><span class="keyword">function</span><span class="params">(item,<span class="keyword">index</span>,<span class="keyword">array</span>)</span><span class="comment">&#123;</span></span></span><br><span class="line"><span class="function"><span class="comment">  console.log(item,index);</span></span></span><br><span class="line"><span class="function"><span class="comment">&#125;</span>);</span></span><br><span class="line"><span class="comment">// 0  0</span></span><br><span class="line"><span class="comment">// 1  1</span></span><br><span class="line"><span class="comment">// 2  2</span></span><br></pre></td></tr></table></figure></p>
<h2 id="取数组最大值，最小值"><a href="#取数组最大值，最小值" class="headerlink" title="取数组最大值，最小值"></a>取数组最大值，最小值</h2><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Math.max.apply(null,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">43</span>,<span class="number">4</span>])</span><br><span class="line">Math.min.apply(null,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">42</span>,<span class="number">4</span>])</span><br></pre></td></tr></table></figure>
<h3 id="添加元素到数组的末尾-push-到数组末尾-添加"><a href="#添加元素到数组的末尾-push-到数组末尾-添加" class="headerlink" title="添加元素到数组的末尾  push()到数组末尾 添加"></a>添加元素到数组的末尾  push()到数组末尾 添加</h3><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">'apple'</span>,<span class="string">'Banana'</span>]</span><br><span class="line"><span class="keyword">var</span> <span class="keyword">new</span><span class="type">Length</span> = fruits.push(<span class="string">'Orange'</span>);</span><br><span class="line">console.log(<span class="keyword">new</span><span class="type">Length</span>)</span><br><span class="line"><span class="comment">// ['apple','Banana','Orange']</span></span><br></pre></td></tr></table></figure>
<h3 id="删除数组末尾的元素-pop-删除"><a href="#删除数组末尾的元素-pop-删除" class="headerlink" title="删除数组末尾的元素 pop() 删除"></a>删除数组末尾的元素 pop() 删除</h3><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> last = fruits.<span class="keyword">pop</span>();</span><br><span class="line"><span class="comment">//remove Orange(from the end)</span></span><br><span class="line"><span class="comment">//['apple,Banana'];</span></span><br></pre></td></tr></table></figure>
<h3 id="删除数组最前面（头部）的元素-shift"><a href="#删除数组最前面（头部）的元素-shift" class="headerlink" title="删除数组最前面（头部）的元素  shift()"></a>删除数组最前面（头部）的元素  shift()</h3><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> first = fruits.shift();</span><br><span class="line"><span class="comment">// remove apple from the front</span></span><br><span class="line"><span class="comment">//['Banana']</span></span><br></pre></td></tr></table></figure>
<h3 id="添加到数组的前面（头部）-unshift"><a href="#添加到数组的前面（头部）-unshift" class="headerlink" title="添加到数组的前面（头部） unshift()"></a>添加到数组的前面（头部） unshift()</h3><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let newLength = fruits.unshift(<span class="string">'Strawberry'</span>);</span><br><span class="line">// <span class="keyword">add</span><span class="bash"> to the front</span></span><br><span class="line"><span class="bash">// [<span class="string">'Strawberry'</span>,<span class="string">'Banana'</span>];</span></span><br></pre></td></tr></table></figure>
<h3 id="找到某个元素在数组中的索引-indexOf"><a href="#找到某个元素在数组中的索引-indexOf" class="headerlink" title="找到某个元素在数组中的索引  indexOf()"></a>找到某个元素在数组中的索引  indexOf()</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fruits.push(<span class="string">'Mango'</span>);</span><br><span class="line"><span class="regexp">//</span> [<span class="string">'Strawberry'</span>,<span class="string">'Banana'</span>,<span class="string">'Mango'</span>];</span><br><span class="line"></span><br><span class="line">let index = fruits.indexOf(<span class="string">'Banana'</span>);</span><br><span class="line"><span class="regexp">//</span><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="通过索引删除某个元素-splice-pos-index"><a href="#通过索引删除某个元素-splice-pos-index" class="headerlink" title="通过索引删除某个元素  splice(pos,index)"></a>通过索引删除某个元素  splice(pos,index)</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let removedItem = fruits.splice(pos,<span class="number">1</span>)</span><br><span class="line"><span class="regexp">//</span>[<span class="string">'Strawberry'</span>,<span class="string">'Mango'</span>]</span><br></pre></td></tr></table></figure>
<h3 id="从一个索引位置删除多个元素"><a href="#从一个索引位置删除多个元素" class="headerlink" title="从一个索引位置删除多个元素"></a>从一个索引位置删除多个元素</h3><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">let vegetables = [<span class="string">'Cabbage'</span>,<span class="string">'Turnip'</span>,<span class="string">'Radish'</span>,<span class="string">'Carrot'</span>];</span><br><span class="line">console.log(vegetables);</span><br><span class="line">//[<span class="string">'Cabbage'</span>,<span class="string">'Turnip'</span>,<span class="string">'Radish'</span>,<span class="string">'Carrot'</span>]</span><br><span class="line"></span><br><span class="line">let pos = <span class="number">1</span>, n = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">let removedItems = vegetables.splice(pos,n);</span><br><span class="line">console.log(vegetables);</span><br><span class="line">//[<span class="string">'Cabbage'</span>,<span class="string">'Carrot'</span>]</span><br><span class="line"></span><br><span class="line">console.log(removedIetms);</span><br><span class="line">//[<span class="string">'Turnip'</span>,<span class="string">'Radish'</span>]</span><br></pre></td></tr></table></figure>
<h3 id="复制一个数组-slice"><a href="#复制一个数组-slice" class="headerlink" title="复制一个数组   slice()"></a>复制一个数组   slice()</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var shallowCopy = fruits.slice();</span><br><span class="line"><span class="regexp">//</span>[<span class="string">'Strawberry'</span>,<span class="string">'Mango'</span>]</span><br></pre></td></tr></table></figure>
<h2 id="es6里的一些数组方法"><a href="#es6里的一些数组方法" class="headerlink" title="es6里的一些数组方法"></a>es6里的一些数组方法</h2><h3 id="1-使用Set处理数组去重和元素剔除问题"><a href="#1-使用Set处理数组去重和元素剔除问题" class="headerlink" title="1.使用Set处理数组去重和元素剔除问题"></a>1.使用Set处理数组去重和元素剔除问题</h3><p>Set是es6新增的一种数据结构，它和数组非常相似，但是成员的值都是唯一的，没有重复的值。它提供了4个语义化的API：<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span><span class="built_in">add</span>(<span class="built_in">value</span>):添加某个值，返回Set结构本身</span><br><span class="line"><span class="number">2.</span><span class="built_in">delete</span>(<span class="built_in">value</span>)：删除某个值，返回一个布尔值，表示删除是否成功</span><br><span class="line"><span class="number">3.</span>has(<span class="built_in">value</span>):返回一个布尔值，表示该值是否为Set的成员</span><br><span class="line"><span class="number">4.</span><span class="built_in">clear</span>():清除所有成员，没有返回值。</span><br></pre></td></tr></table></figure></p>
<p>那么我们可以用Set来干嘛呢？</p>
<p>第一个用法，数组去重。对于一个一维数组，我们可以先把它转化成Set，再配合…解构运算符重新转化为数组，达到去重的目的。请看例子：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">const newArr = [...new Set(arr)]</span><br><span class="line">console.log(newArr)</span><br><span class="line"><span class="comment">// [1,2,3,4,5]</span></span><br></pre></td></tr></table></figure></p>
<p>值得注意的是，这个方法不能对元素为对象的数组奏效：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">const</span> <span class="string">arr</span> <span class="string">=</span> <span class="string">[&#123;</span> <span class="attr">name:</span> <span class="string">'Alice'</span><span class="string">,</span> <span class="attr">age:</span> <span class="number">12</span> <span class="string">&#125;,&#123;</span> <span class="attr">name:</span> <span class="string">'Alice'</span><span class="string">,</span> <span class="attr">age:</span> <span class="number">12</span> <span class="string">&#125;,&#123;</span> <span class="attr">name:</span> <span class="string">'Bob'</span><span class="string">,</span> <span class="attr">age:</span> <span class="number">13</span><span class="string">&#125;]</span></span><br><span class="line"><span class="string">const</span> <span class="string">newArr</span> <span class="string">=</span> <span class="string">[...new</span> <span class="string">Set(arr)]</span></span><br><span class="line"><span class="string">console.log(newArr)</span></span><br><span class="line"><span class="string">//</span> <span class="string">[&#123;</span> <span class="attr">name:</span> <span class="string">'Alice'</span><span class="string">,</span> <span class="attr">age:</span> <span class="number">12</span> <span class="string">&#125;,&#123;</span> <span class="attr">name:</span> <span class="string">'Alice'</span><span class="string">,</span> <span class="attr">age:</span> <span class="number">12</span> <span class="string">&#125;,&#123;</span> <span class="attr">name:</span> <span class="string">'Bob'</span><span class="string">,</span> <span class="attr">age:</span> <span class="number">13</span><span class="string">&#125;]</span></span><br></pre></td></tr></table></figure></p>
<p>这是因为Set判断元素是否重复的办法类似于===运算符，两个对象总是不相等的。</p>
<p>除了去重，Set提供的delete()方法也是非常实用。在以往的做法中，如果要删除数组中指定的元素，我们需要先获取该元素所在下标，然后通过splice()方法去删除对应下标的元素，在理解上容易引起混乱：<br><figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 我想删除数组当中值为2的元素</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">index</span> = arr.indexOf(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">index</span> !== <span class="number">-1</span>) &#123;</span><br><span class="line">    arr.splice(<span class="keyword">index</span>, <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.<span class="built_in">log</span>(arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// [1, 3]</span></span><br></pre></td></tr></table></figure></p>
<p>使用Set就清晰多了：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">set</span> = <span class="keyword">new</span> Set(arr)</span><br><span class="line"><span class="built_in">set</span>.<span class="keyword">delete</span>(<span class="number">2</span>)</span><br><span class="line">arr = [...<span class="built_in">set</span>]</span><br><span class="line"></span><br><span class="line">console.<span class="built_in">log</span>(arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// [1, 3]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="2、-使用map-方法和对象解构语法提取字段"><a href="#2、-使用map-方法和对象解构语法提取字段" class="headerlink" title="2、 使用map()方法和对象解构语法提取字段"></a>2、 使用map()方法和对象解构语法提取字段</h3><p>请求后台接口返回的数据中，很可能会遇到下面这种数据格式：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">studentInfo = [</span><br><span class="line">  &#123; <span class="string">name:</span> <span class="string">'Alice'</span>, <span class="string">age:</span> <span class="number">18</span>, <span class="string">no:</span> <span class="number">2</span> &#125;,</span><br><span class="line">  &#123; <span class="string">name:</span> <span class="string">'Bob'</span>, <span class="string">age:</span> <span class="number">16</span>, <span class="string">no:</span> <span class="number">5</span> &#125;,</span><br><span class="line">  &#123; <span class="string">name:</span> <span class="string">'Candy'</span>, <span class="string">age:</span> <span class="number">17</span>, <span class="string">no:</span> <span class="number">3</span> &#125;,</span><br><span class="line">  &#123; <span class="string">name:</span> <span class="string">'Den'</span>, <span class="string">age:</span> <span class="number">18</span>, <span class="string">no:</span> <span class="number">4</span> &#125;,</span><br><span class="line">  &#123; <span class="string">name:</span> <span class="string">'Eve'</span>, <span class="string">age:</span> <span class="number">16</span>, <span class="string">no:</span> <span class="number">1</span> &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p>当我们要获取姓名列表、年龄列表和编号列表的时候，我们可以通过map()再配合对象的解构语法方便快捷地进行处理：<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const nameList = studentInfo.map(<span class="function"><span class="params">(&#123; name &#125;)</span> =&gt;</span> name)</span><br><span class="line">const ageList = studentInfo.map(<span class="function"><span class="params">(&#123; age &#125;)</span> =&gt;</span> age)</span><br><span class="line">const noList = studentInfo.map(<span class="function"><span class="params">(&#123; <span class="literal">no</span> &#125;)</span> =&gt;</span> <span class="literal">no</span>)</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span> nameList: [ <span class="string">'Alice'</span>, <span class="string">'Bob'</span>, <span class="string">'Candy'</span>, <span class="string">'Den'</span>, <span class="string">'Eve'</span> ]</span><br><span class="line"><span class="regexp">//</span> ageList: [ <span class="number">18</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">16</span> ]</span><br><span class="line"><span class="regexp">//</span> noList: [ <span class="number">2</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span> ]</span><br></pre></td></tr></table></figure></p>
<h3 id="3、使用filter-方法和对象解构语法过滤数组"><a href="#3、使用filter-方法和对象解构语法过滤数组" class="headerlink" title="3、使用filter()方法和对象解构语法过滤数组"></a>3、使用filter()方法和对象解构语法过滤数组</h3><p>接上上面的例子，如果我想获取一个“年龄小于等于17岁”的新列表，应该怎么做呢？类似map()方法，我们可以用filter()方法进行过滤：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">const</span> <span class="string">newStudentInfo</span> <span class="string">=</span> <span class="string">studentInfo.filter((&#123;</span> <span class="string">age</span> <span class="string">&#125;)</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">return</span> <span class="string">age</span> <span class="string">&lt;=</span> <span class="number">17</span></span><br><span class="line"><span class="string">&#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="string">/*</span></span><br><span class="line"><span class="attr">newStudentInfo:</span> <span class="string">[</span></span><br><span class="line">  <span class="string">&#123;</span> <span class="attr">name:</span> <span class="string">'Bob'</span><span class="string">,</span> <span class="attr">age:</span> <span class="number">16</span><span class="string">,</span> <span class="literal">no</span><span class="string">:</span> <span class="number">5</span> <span class="string">&#125;,</span></span><br><span class="line">  <span class="string">&#123;</span> <span class="attr">name:</span> <span class="string">'Candy'</span><span class="string">,</span> <span class="attr">age:</span> <span class="number">17</span><span class="string">,</span> <span class="literal">no</span><span class="string">:</span> <span class="number">3</span> <span class="string">&#125;,</span></span><br><span class="line">  <span class="string">&#123;</span> <span class="attr">name:</span> <span class="string">'Eve'</span><span class="string">,</span> <span class="attr">age:</span> <span class="number">16</span><span class="string">,</span> <span class="literal">no</span><span class="string">:</span> <span class="number">1</span> <span class="string">&#125;</span></span><br><span class="line"><span class="string">]</span></span><br><span class="line"><span class="string">*/</span></span><br></pre></td></tr></table></figure></p>
<h3 id="4、借助includes-方法求两个数组的差集"><a href="#4、借助includes-方法求两个数组的差集" class="headerlink" title="4、借助includes()方法求两个数组的差集"></a>4、借助includes()方法求两个数组的差集</h3><p>假设我们有以下两个数组：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">var</span> <span class="selector-tag">a</span> = [<span class="number">1</span>, <span class="number">2</span>, &#123;s:<span class="number">3</span>&#125;, &#123;s:<span class="number">4</span>&#125;, &#123;s:<span class="number">5</span>&#125;]</span><br><span class="line"><span class="selector-tag">var</span> <span class="selector-tag">b</span> = [&#123;s:<span class="number">2</span>&#125;, &#123;s:<span class="number">3</span>&#125;, &#123;s:<span class="number">4</span>&#125;, <span class="string">'a'</span>]</span><br></pre></td></tr></table></figure></p>
<p>我们应该如何找到它们的差集呢？传统的方法可能需要把它们以Object形式hash化，但其实我们可以通过.includes()方法更加优雅方便地找出差集，代码如下：<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var a = [<span class="number">1</span>, <span class="number">2</span>, &#123;s:<span class="number">3</span>&#125;, &#123;s:<span class="number">4</span>&#125;, &#123;s:<span class="number">5</span>&#125;].<span class="keyword">map</span>(<span class="literal">item</span> =&gt; JSON.stringify(<span class="literal">item</span>))</span><br><span class="line">var b = [&#123;s:<span class="number">2</span>&#125;, &#123;s:<span class="number">3</span>&#125;, &#123;s:<span class="number">4</span>&#125;, <span class="string">'a'</span>].<span class="keyword">map</span>(<span class="literal">item</span> =&gt; JSON.stringify(<span class="literal">item</span>))</span><br><span class="line"></span><br><span class="line">var diff = a.concat(b)</span><br><span class="line">            .filter(v =&gt; !a.includes(v) || !b.includes(v))</span><br><span class="line">            .<span class="keyword">map</span>(<span class="literal">item</span> =&gt; JSON.parse(<span class="literal">item</span>))</span><br><span class="line">            </span><br><span class="line">// diff: [<span class="number">1</span>, <span class="number">2</span>, &#123;s:<span class="number">5</span>&#125;, &#123;s:<span class="number">2</span>&#125;, <span class="string">"a"</span>]</span><br></pre></td></tr></table></figure></p>
<p>至于为什么要JSON.stringify()，是因为要对比两个“对象元素”是否相等，是无法直接以“对象”形式比较的（永远返回不相等）。</p>
</div><!--文章标签--><div class="tags"><a href="/tags/前端/">前端</a><a href="/tags/javascript/">javascript</a></div><!--评论--></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" id="search" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://zhenhualiu.com"/></form></div><div class="widget"><div class="widget-title"> 分类</div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/css/css基础/">css基础</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/css/css基础/programming/">编程</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/life/">生活</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/">编程</a><span class="category-list-count">31</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/programming/H5/">H5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/angular/">angular</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/css/">css</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/javascript/">javascript</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/mac/">mac</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/phone/">phone</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/vue/">vue</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/programming/vue/javacript/">javacript</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/问题/">问题</a><span class="category-list-count">1</span></li></ul></li></ul></div><div class="widget"><div class="widget-title"> 标签</div><div class="tagcloud"><a href="/tags/mac/" style="font-size: 12px;">mac</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/css基础/" style="font-size: 12px;">css基础</a> <a href="/tags/angular/" style="font-size: 12px;">angular</a> <a href="/tags/手机端/" style="font-size: 13.5px;">手机端</a> <a href="/tags/hexo/" style="font-size: 13.5px;">hexo</a> <a href="/tags/数组/" style="font-size: 12px;">数组</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/javacript/" style="font-size: 12px;">javacript</a> <a href="/tags/前端/" style="font-size: 18px;">前端</a> <a href="/tags/生活/" style="font-size: 12px;">生活</a> <a href="/tags/vue/" style="font-size: 16.5px;">vue</a> <a href="/tags/css3/" style="font-size: 12px;">css3</a> <a href="/tags/js/" style="font-size: 13.5px;">js</a> <a href="/tags/工作/" style="font-size: 12px;">工作</a> <a href="/tags/编程/" style="font-size: 13.5px;">编程</a> <a href="/tags/验证/" style="font-size: 12px;">验证</a> <a href="/tags/遇到的问题/" style="font-size: 12px;">遇到的问题</a></div></div><div class="widget"><div class="widget-title"> 最新文章</div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/01/11/vue初始项目发不到码云上的pages上可以直接访问！/">vue初始项目发布到码云上的pages上可以直接访问！</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/09/js-遇到的问题/">js-遇到的问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/28/css基础/">css基础</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/27/那些javascript面试题考核的知识点/">那些javascript面试题考核的知识点</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/22/javascript-array-数组的骚操作/">javascript-array-数组的骚操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/13/vue-element-ui—2/">vue element-ui—2</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/09/各种网站/">各种网站</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/09/工作分解/">实际工作中的操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/08/vue思维导图/">vue思维导图</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/02/css技巧/">css技巧</a></li></ul></div><div class="widget"><div class="widget-title"> 友情链接</div><ul class="links-list"><li class="links-list-item"><a href="http://www.example.com" title="标题" target="_blank">标题</a></li></ul></div></div></div></div><div id="footer">© <a href="/." rel="nofollow">colton`s blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a> Theme<a target="_blank" href="https://github.com/7ye/maupassant-hexo"> Maupassant.</a></div><a id="back_to_top" href="javascript:void(0)" class="back_to_top"><span>△</span></a><script type="text/javascript" src="/js/totop.js?v=0.0.1"></script><link rel="stylesheet" href="/css/jquery.fancybox.css"><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.1"></script><script>function auto_code_fit(){
  if($(".highlight").length != 0){
    var pc_width = $(".post-content").width();
    $(".highlight .code").find("pre").width((pc_width-70)+"px");
  }
}
window.onresize = function(){
  auto_code_fit();
}
auto_code_fit();</script></div></body>